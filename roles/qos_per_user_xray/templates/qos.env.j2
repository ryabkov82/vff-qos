# Generated by Ansible role qos_per_user_xray

ENV_FILE="{{ qos_etc_dir }}/qos.env"

CONTAINER="{{ qos_container }}"
XRAY_LOG="{{ qos_xray_access_log_path }}"

# WAN_DEV can be "auto" (detect via IPv4 default route) or explicit interface name.
WAN_DEV="{{ qos_if_wan }}"
IFB_DEV="{{ qos_if_ifb }}"

# Base shaping (bootstrap)
WAN_CEIL="{{ qos_wan_ceil }}"
TC_DEFAULT_UL="{{ qos_tc_default_ul }}"
TC_DEFAULT_DL="{{ qos_tc_default_dl }}"

# Per-user defaults (follower)
UPLOAD_DEFAULT="{{ qos_upload_default }}"
DOWNLOAD_DEFAULT="{{ qos_download_default }}"

VPN_PORT="{{ qos_vpn_port }}"
DRY_RUN="{{ qos_dry_run }}"

QOS_HTB_R2Q="{{ qos_htb_r2q }}"

# Optional: set if auto-detection is not desired/reliable
# SERVER_IP="X.X.X.X"

# --- QoS GC (tc cleanup) ---
QOS_GC_ENABLE="{{ 1 if qos_gc_enable | bool else 0 }}"
QOS_GC_IDLE_SEC="{{ qos_gc_idle_sec }}"
QOS_GC_MIN_AGE_SEC="{{ qos_gc_min_age_sec }}"
QOS_GC_USE_CONNTRACK="{{ 1 if qos_gc_use_conntrack | bool else 0 }}"
QOS_GC_DRY_RUN="{{ 1 if qos_gc_dry_run | bool else 0 }}"
